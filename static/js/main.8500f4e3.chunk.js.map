{"version":3,"sources":["Player.js","Admin.js","firebase/firebaseApp.js","App.js","reportWebVitals.js","index.js"],"names":["Player","props","className","videos","videoId","opts","height","width","playerVars","autoplay","mute","onEnd","event","remainingVideos","shift","set","ref","database","onPlay","target","unMute","setVolume","Admin","useState","Video","setVideo","isSubmitting","setIsSubmitting","isSpeaker","setisSpeaker","Submit","a","preventDefault","containYoutube","test","containVideoId","newVideos","youtubeId","replace","push","alert","onSubmit","type","id","name","onChange","value","placeholder","hidden","onClick","disabled","result","window","confirm","to","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","getDatabase","firebaseApp","videosRef","App","setVideos","useEffect","onValue","snapshot","data","val","console","log","path","exact","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8SAiDeA,MA5Cf,SAAgBC,GAsBd,OACE,qBAAKC,UAAU,oBAAf,SAEqB,OAAjBD,EAAME,OAEJ,0DAIA,cAAC,IAAD,CACEC,QAASH,EAAME,OAAO,GACtBE,KA/BG,CACXC,OAAQ,MACRC,MAAO,MACPC,WAAY,CAEVC,SAAU,EACVC,KAAM,IA0BAC,MAvBI,SAACC,GACX,IAAIC,EAAkBZ,EAAME,OAC5BU,EAAgBC,QAChBC,YAAIC,YAAIf,EAAMgB,SAAU,WAAYJ,IAqB9BK,OAlBK,SAACN,GAEdA,EAAMO,OAAOC,SACbR,EAAMO,OAAOE,UAAU,KAgBfnB,UAAU,c,yCC2BPoB,EA9DD,SAACrB,GACb,MAA0BsB,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwCF,oBAAS,GAAjD,mBAAOG,EAAP,KAAqBC,EAArB,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOK,EAAP,KAAkBC,EAAlB,KACMC,EAAM,uCAAG,WAAOlB,GAAP,qBAAAmB,EAAA,sDACbnB,EAAMoB,iBACNL,GAAgB,GACZM,EAAiB,cAAcC,KAAKV,GACpCW,EAAiB,UAAUD,KAAKV,GACjCS,GAAkBE,GACbC,EAA6B,OAAjBnC,EAAME,OAAkBF,EAAME,OAAS,GAEnDkC,EAAYb,EAAMc,QAAQ,gBAAiB,MAC/CF,EAAUG,KAAKF,GACftB,YAAIC,YAAIf,EAAMgB,SAAU,WAAYmB,GACpCX,EAAS,IACTE,GAAgB,KAEhBa,MAAM,2BACNf,EAAS,IACTE,GAAgB,IAhBP,2CAAH,sDAiCZ,OACE,sBAAKzB,UAAU,cAAf,UACE,oBAAIA,UAAU,SAAd,yCACA,uBAAMuC,SAAUX,EAAQ5B,UAAU,OAAlC,UACE,uBACEwC,KAAK,OACLC,GAAG,QACHC,KAAK,QACLC,SApBS,SAACjC,GAChBa,EAASb,EAAMO,OAAO2B,QAoBhBA,MAAOtB,EACPtB,UAAU,WACV6C,YAAY,gCAEd,wBAAQL,KAAK,SAASM,QAAQ,OAGhC,wBAAQC,QAxBO,WACjBlC,YAAIC,YAAIf,EAAMgB,SAAU,WAAY,KAuBLiC,SAAUxB,EAAcxB,UAAU,QAA/D,yBACA,qBAAKA,UAAU,OAAO+C,QArBP,WACjB,IAAIE,EAASC,OAAOC,QAAQ,wMACnBxB,IAATsB,IAmBE,SAEA,cAAC,IAAD,CAAMG,GAAI1B,EAAY,SAAW,IAAjC,oD,QC3CS2B,EAFHC,YAXW,CACrBC,OAAQ,0CACRC,WAAY,sCACZC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,4CACPC,YAAa,kF,OCCX9C,EAAW+C,YAAYC,GACvBC,EAAYlD,YAAIC,EAAU,WAuCfkD,MApCf,WACE,MAA4B5C,mBAAS,IAArC,mBAAOpB,EAAP,KAAeiE,EAAf,KAcA,OAbAC,qBAAU,WACVC,YAAQJ,GAAW,SAACK,GAClB,IAAMC,EAAOD,EAASE,MACtBL,EAAUI,QAGX,IAGDH,qBAAU,WACRK,QAAQC,IAAIxE,KACX,CAACA,IAGF,qBAAKD,UAAU,aAAf,SAUE,cAAC,IAAD,UACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO0E,KAAK,oCAAoCC,OAAK,EAACC,QAAS,cAAC,EAAD,CAAQ7D,SAAUA,EAAUd,OAAQA,MACnG,cAAC,IAAD,CAAOyE,KAAK,8BAA8BC,OAAK,EAACC,QAAS,cAAC,EAAD,CAAO7D,SAAUA,EAAUd,OAAQA,cCnCrF4E,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCFdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.8500f4e3.chunk.js","sourcesContent":["import YouTube from \"react-youtube\";\r\nimport { set } from \"firebase/database\";\r\nimport { ref } from \"firebase/database\";\r\nimport \"./Player.css\";\r\n\r\nfunction Player(props) {\r\n  //https://youtu.be/py3zoTVmm2s\r\n  const opts = {\r\n    height: \"390\",\r\n    width: \"640\",\r\n    playerVars: {\r\n      // https://developers.google.com/youtube/player_parameters\r\n      autoplay: 1,\r\n      mute: 1\r\n    },\r\n  };\r\n  const onEnd = (event) => {\r\n      let remainingVideos = props.videos;\r\n      remainingVideos.shift();\r\n      set(ref(props.database, '/videos'), remainingVideos);\r\n  };\r\n\r\n  const unMute = (event) => {\r\n    //unmute the video in case if the page already has interaction\r\n    event.target.unMute();\r\n    event.target.setVolume(40)\r\n  }\r\n  return (\r\n    <div className=\"center background\">\r\n      {\r\n        props.videos === null ?\r\n        (\r\n          <p>There is no video to play</p>\r\n        ):\r\n        (\r\n\r\n          <YouTube\r\n            videoId={props.videos[0]}\r\n            opts={opts}\r\n            onEnd={onEnd}\r\n            onPlay={unMute}\r\n            className=\"player\"\r\n          />\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Player;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { set } from \"firebase/database\";\r\nimport { ref } from \"firebase/database\";\r\nimport './Admin.css'\r\nimport { Link } from \"react-router-dom\";\r\nconst Admin = (props) => {\r\n  const [Video, setVideo] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [isSpeaker, setisSpeaker] = useState(false)\r\n  const Submit = async (event) =>  {\r\n    event.preventDefault();\r\n    setIsSubmitting(true);\r\n    let containYoutube = /youtube.com/.test(Video)\r\n    let containVideoId = /v=.{11}/.test(Video)\r\n    if(containYoutube && containVideoId){\r\n        let newVideos = props.videos !== null ? props.videos : [] ;\r\n        //get the id of the video\r\n        let youtubeId = Video.replace(/.+v=(.{11}).*/, '$1')\r\n        newVideos.push(youtubeId);\r\n        set(ref(props.database, '/videos'), newVideos);\r\n        setVideo('');\r\n        setIsSubmitting(false);\r\n    }else{\r\n        alert(\"It have to Youtube Link\");\r\n        setVideo(\"\");\r\n        setIsSubmitting(false);\r\n    }\r\n    \r\n  };\r\n\r\n  const onChange = (event) => {\r\n    setVideo(event.target.value);\r\n  };\r\n\r\n  const clearQueue = () => {\r\n    set(ref(props.database, \"/videos\"), []);\r\n  };\r\n\r\n  const goToPlayer = () => {\r\n    let result = window.confirm(\"ဖွင့်မဲ့သူတယောက်ဘဲ ဒီ link ကိုသွားပါ (ok or cancel)\");\r\n    result ? setisSpeaker(true) : setisSpeaker(false)\r\n  }\r\n  return (\r\n    <div className=\"center dark\">\r\n      <h1 className='header'>Life Just Better With Music</h1>\r\n      <form onSubmit={Submit} className=\"form\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"fname\"\r\n          name=\"fname\"\r\n          onChange={onChange}\r\n          value={Video}\r\n          className=\"textarea\"\r\n          placeholder=\"https://www.youtube.com/...\"\r\n        />\r\n        <button type=\"submit\" hidden={true}></button>\r\n      </form>\r\n\r\n      <button onClick={clearQueue} disabled={isSubmitting} className=\"clear\">Clear Queue</button>\r\n      <div className=\"link\" onClick={goToPlayer}>\r\n\r\n      <Link to={isSpeaker ? 'player' : '#'} >Speaker သမား</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDXrdBVeyDwU81QVfllPycfiGtiAjAnrpE\",\r\n  authDomain: \"react--queue-player.firebaseapp.com\",\r\n  projectId: \"react--queue-player\",\r\n  storageBucket: \"react--queue-player.appspot.com\",\r\n  messagingSenderId: \"393257056440\",\r\n  appId: \"1:393257056440:web:7686440fec372fb4961c4d\",\r\n  databaseURL: \"https://react--queue-player-default-rtdb.asia-southeast1.firebasedatabase.app\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport default app;","import \"./App.css\";\r\nimport Player from \"./Player\";\r\nimport Admin from \"./Admin\";\r\nimport firebaseApp from './firebase/firebaseApp';\r\nimport { getDatabase } from \"firebase/database\";\r\nimport {ref, onValue} from 'firebase/database';\r\nimport { useState, useEffect } from \"react\";\r\nimport {  Routes, Route } from \"react-router-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n//https://www.youtube.com/watch?v=jNQXAC9IVRw&ab_channel=jawed\r\n//https://www.youtube.com/watch?v=XbqFZMIidZI&ab_channel=PopCornRest-TikTok\r\n//https://www.youtube.com/watch?v=hS5CfP8n_js&ab_channel=Mr.Monk\r\n\r\n//database locaiton\r\nlet database = getDatabase(firebaseApp)\r\nlet videosRef = ref(database, '/videos')\r\n\r\n\r\nfunction App() {\r\n  const [videos, setVideos] = useState([])\r\n  useEffect(() => {\r\n  onValue(videosRef, (snapshot) => {\r\n    const data = snapshot.val();\r\n    setVideos(data);\r\n  })\r\n  \r\n}, [])\r\n\r\n//delete this in production\r\n  useEffect(() => {\r\n    console.log(videos)\r\n  }, [videos])\r\n\r\n  return (\r\n    <div className=\"fullheight\">\r\n      {/* <nav\r\n        style={{\r\n          borderBottom: \"solid 1px\",\r\n          paddingBottom: \"1rem\"\r\n        }}\r\n      >\r\n        <Link to=\"/player\">Player</Link> |{\" \"}\r\n        <Link to=\"/submit\">Video ထည့်မယ်ဗျို့</Link>\r\n      </nav> */}\r\n      <BrowserRouter>\r\n      <Routes>\r\n        <Route path='react-youtube-queue-player/player' exact element={<Player database={database} videos={videos}  />} />\r\n        <Route path='react-youtube-queue-player/' exact element={<Admin database={database} videos={videos} />} />\r\n      </Routes>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}